{"version":3,"sources":["contexts/CurrentUserContext.js","components/Card.js","components/Header.js","components/Footer.js","components/Main.js","components/Login.js","components/Register.js","utils/Api.js","images/Close_Icon.svg","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","images/succesReg.svg","images/unsuccesReg.svg","components/InfoTooltip.js","utils/Auth.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","className","style","backgroundImage","link","onClick","onCardClick","type","onCardDelete","name","onCardLike","length","Header","currentEmail","signOut","Footer","Main","src","avatar","alt","onEditAvatar","onEditProfile","about","onAddPlace","id","cards","map","withRouter","useState","email","setEmail","password","setPassword","to","onSubmit","e","preventDefault","loginAuth","placeholder","value","onChange","target","required","regiserAuth","api","options","this","_baseUrl","baseUrl","_headers","headers","token","fetch","method","Authorization","then","_getResponseData","data","body","JSON","stringify","likeCard","dislikeCard","res","ok","json","Promise","reject","status","PopupWithForm","isOpen","closeIcon","onClose","title","formName","noValidate","children","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","nameCard","setNameCard","urlCard","setUrlCard","onAddNewCard","ProtectedRoute","Component","component","loggedIn","InfoTooltip","isInfoTooltipOpen","succesRegister","succesReg","unsuccesReg","BASE_URL","ImagePopup","setCurrentEmail","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImagePopupOpen","setImagePopupOpen","setCurrentUser","selectedCard","setSelectedCard","setLoggedIn","setSuccesRegister","setInfoTooltipOpen","history","useHistory","handleLogin","closeAllPopups","getUserInfo","catch","err","console","log","setCards","getInitialCards","jwt","localStorage","getItem","push","Provider","exact","path","changeLikeCardStatus","newCard","state","c","deleteCard","filter","removeItem","response","mestoAuth","setItem","setUserInfo","setUserAvatar","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.ad1e1481.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardDeleteButtonClassName = (`${isOwn ? 'element__delete-button' \r\n  : 'element__delete-button element__delete-button_hidden'}`);\r\n  const cardLikeButtonClassName = (`${isLiked ? 'element__like-button element__like-button_active'\r\n  : 'element__like-button'}`);\r\n\r\n  function handleCardClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n      <div className=\"element\">\r\n        <div className=\"element__image\" style={{ backgroundImage: `url(${props.card.link})` }} onClick={handleCardClick}></div>\r\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\r\n        <div className=\"element__bottom\">\r\n          <h2 className=\"element__name\">{props.card.name}</h2>\r\n          <div className=\"element__like-place\">\r\n            <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n            <p className=\"element__like-count\">{props.card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header background\">\r\n      <div className=\"header__logo\"></div>\r\n      <div className=\"header__email\">{props.currentEmail}</div>\r\n      <div className=\"header__exit\" onClick={props.signOut}>Выйти</div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer background\">\r\n      <p className=\"footer__copyringht\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Header from './Header.js';\r\nimport Footer from './Footer.js';\r\n\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n    <Header currentEmail={props.currentEmail} signOut={props.signOut}/>\r\n    <main className=\"container\">\r\n      {/*<PopupWithForm name=\"confirm\" title=\"Вы уверены?\" formName=\"popupFormConfirm\"  isOpen={props.isConfirmOpen} onClose={props.onClose}\r\n      />*/}\r\n      <section className=\"profile background\">\r\n        <img src={currentUser.avatar} className=\"profile__avatar\" alt=\"Жак-Ив Кусто\"/>\r\n        <div className=\"profile__frontground\" onClick={props.onEditAvatar}></div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__top-info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button className=\"profile__change-button\" type=\"button\" onClick={props.onEditProfile}></button>\r\n          </div>\r\n          <p className=\"profile__description\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements background\">\r\n      </section>\r\n      <div id=\"card-template\">\r\n        {props.cards.map((card) => (\r\n          <Card card={card} onCardClick={props.onCardClick} key={card._id}  onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\r\n        ))}\r\n      </div>\r\n    </main>\r\n    <Footer/>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nfunction Login(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n\r\n  function emailEnter(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function passwordEnter(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.loginAuth(email, password);\r\n} \r\n\r\n  return (\r\n    <>\r\n      <header className=\"header background\">\r\n        <div className=\"header__logo\"></div>\r\n        <Link to=\"sign-up\" className=\"header__regisiterButton\">Регистрация</Link>\r\n      </header>\r\n      <main className=\"sign\">\r\n        <div className=\"sign__window\">\r\n          <h2 className=\"sign__name\">Вход</h2>\r\n          <form className=\"sign__form\" onSubmit={handleSubmit}>\r\n            <input type=\"email\" className=\"sign__email\" placeholder=\"Email\" value={email} onChange={emailEnter} required />\r\n            <input type=\"password\" className=\"sign__password\" placeholder=\"Пароль\" value={password} onChange={passwordEnter} required />\r\n            <button className=\"sign__button\">Войти</button>\r\n          </form>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(Login);","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom'; \r\n\r\nfunction Register(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n\r\n  function emailEnter(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function passwordEnter(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.regiserAuth(email, password);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header className=\"header background\">\r\n        <div className=\"header__logo\"></div>\r\n        <Link to=\"sign-in\" className=\"header__loginButton\">Войти</Link>\r\n      </header>\r\n      <main className=\"sign\">\r\n        <div className=\"sign__window\">\r\n          <h2 className=\"sign__name\">Регистрация</h2>\r\n          <form className=\"sign__form\" onSubmit={handleSubmit}>\r\n            <input type=\"email\" className=\"sign__email\" placeholder=\"Email\" value={email} onChange={emailEnter} required />\r\n            <input type=\"password\" className=\"sign__password\" placeholder=\"Пароль\" value={password} onChange={passwordEnter} required />\r\n            <button className=\"sign__button\">зарегистрироваться</button>\r\n          </form>\r\n          <p className=\"sign__inform\">Уже зарегистрированы? <Link to=\"sign-in\" className=\"sign__inform-link\">Войти</Link></p>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register); ","export class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getUserInfo(token) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n  getInitialCards(token) {\r\n  return fetch(`${this._baseUrl}/cards`, {\r\n    method: 'GET',\r\n    headers: {\r\n      ...this._headers,\r\n      Authorization: `Bearer ${token}`\r\n      }\r\n  }).then(this._getResponseData)\r\n} \r\n\r\n  setUserInfo(data, token) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n   setUserAvatar(data, token) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n  postCard(data, token) {\r\n  return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n  likeCard(data, token) {\r\n  return fetch(`${this._baseUrl}/cards/likes/${data}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n  dislikeCard(data, token) {\r\n  return fetch(`${this._baseUrl}/cards/likes/${data}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    }).then(this._getResponseData)\r\n  }\r\n  \r\n  deleteCard(data, token) {\r\n  return fetch(`${this._baseUrl}/cards/${data}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n  changeLikeCardStatus(data, isLiked) {\r\n    if (isLiked) {\r\n      return this.likeCard(data);\r\n    } else {\r\n      return this.dislikeCard(data);\r\n    }\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    return res.json();\r\n} \r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://api.kirillnihaenkonaruls.nomoredomains.icu',\r\n  headers: {\r\n    'Accept': 'application/json',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}); \r\n\r\nexport default api;","export default __webpack_public_path__ + \"static/media/Close_Icon.44bb1e48.svg\";","import closeIcon from '../images/Close_Icon.svg';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  return (\r\n    <section className={props.isOpen ? `popup popup_hidden popup_${props.name} popup_active` : `popup popup_hidden popup_${props.name}` }>\r\n      <div className=\"popup__background\"></div>\r\n      <button type=\"button\" className=\"popup__close-button popup__close-button-change\"><img src={closeIcon} className=\"popup__close-image\" alt=\"кнопка\" onClick={props.onClose}/></button>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__info\">{props.title}</h2>\r\n        <form name={`${props.formName}`} className=\"popup__form form popup__info-form\" noValidate onSubmit={props.onSubmit}>\r\n          {props.children}\r\n          <button className=\"popup__save-button popup__submit\" type=\"submit\" name=\"save-button\">\r\n            Сохранить\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  function nameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function descriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [props.isOpen, currentUser]); \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n  return (\r\n  <PopupWithForm name=\"change\" title=\"Редактировать профиль\" formName=\"popupForm\"  isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n    children={<>\r\n      <input id=\"profile-name\" type=\"text\" className=\"popup__input popup__input_user_name\" name=\"name\" required minLength=\"2\"\r\n      maxLength=\"40\" value={name ? name : \"\"} onChange={nameChange}/>\r\n      <span id=\"profile-name-error\" className=\"popup__input-error\"></span> \r\n      <input id=\"profile-description\" type=\"text\" className=\"popup__input popup__input_user_description\" name=\"description\" \r\n      required minLength=\"2\" maxLength=\"200\" value={description ? description : \"\"} onChange={descriptionChange}/>\r\n      <span id=\"profile-description-error\" className=\"popup__input-error\"></span> \r\n    </>}\r\n  />\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const avatarRef = React.useRef(); \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  } \r\n\r\n\r\n  return (\r\n  <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" formName=\"popupAvatarForm\"  isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n    children={<>\r\n      <input id=\"avatar-description\" type=\"url\" className=\"popup__input popup__input_avatar_link\" name=\"avatarDescription\" placeholder=\"Ссылка на картинку\" ref={avatarRef} required/>\r\n      <span id=\"avatar-description-error\" className=\"popup__input-error\"></span> \r\n    </>}\r\n  />\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [nameCard, setNameCard] = React.useState('');\r\n  const [urlCard, setUrlCard] = React.useState('');\r\n\r\n  function nameEnter(e) {\r\n    setNameCard(e.target.value);\r\n  }\r\n\r\n  function urlEnter(e) {\r\n    setUrlCard(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddNewCard({\r\n      link: urlCard,\r\n      name: nameCard,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"add\" title=\"Новое место\" formName=\"popupCardForm\"  isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n      children={<>\r\n        <input id=\"mesto-name\" type=\"text\" className=\"popup__input popup__input_mesto_name\" name=\"mestoName\" placeholder=\"Название\"\r\n        required minLength=\"2\" maxLength=\"30\" value={nameCard} onChange={nameEnter}/>\r\n        <span id=\"mesto-name-error\" className=\"popup__input-error\"></span> \r\n        <input id=\"mesto-description\" type=\"url\" className=\"popup__input popup__input_mesto_link\" name=\"mestoDescription\"\r\n        placeholder=\"Ссылка на картинку\" value={urlCard} onChange={urlEnter} required/>\r\n        <span id=\"mesto-description-error\" className=\"popup__input-error\"></span> \r\n      </>}\r\n    />\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/succesReg.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/unsuccesReg.d4ce2a26.svg\";","import closeIcon from '../images/Close_Icon.svg';\r\nimport succesReg from '../images/succesReg.svg';\r\nimport unsuccesReg from '../images/unsuccesReg.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n  return (\r\n    <section className={props.isInfoTooltipOpen ? `popup` : ` popup popup_hidden` }>\r\n    <div className=\"popup__background\"></div>\r\n      <button type=\"button\" className=\"popup__close-button\"><img src={closeIcon} className=\"popup__close-image\" alt=\"кнопка\" onClick={props.onClose}/></button>\r\n      <div className=\"popup__InfoTooltip-block\">\r\n        <img className=\"popup__InfoTooltip-icon\" src={props.succesRegister ? `${succesReg}` : `${unsuccesReg}`}\r\n        alt={props.succesRegister ? `Успешная регистрация` : `Неуспешная регистрация`}/>\r\n        <p className=\"popup__InfoTooltip-text\">{props.succesRegister ? `Вы успешно зарегистрировались!` : `Что-то пошло не так! Попробуйте ещё раз.`}</p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export const BASE_URL = 'http://localhost:3000';\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then((response) => {\r\n    console.log(response)\r\n    try {\r\n      if (response.status === 201){\r\n        return response.json();\r\n      }\r\n    } catch(e){\r\n      return (e)\r\n    }\r\n  })\r\n  .then((res) => {\r\n    return res;\r\n  })\r\n}; \r\n\r\n export const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then((response => response.json()))\r\n  .then((data) => {\r\n    if (data.token){\r\n      localStorage.setItem('jwt', data.token);\r\n      return data;\r\n    }\r\n  })\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n  .then(data => data)\r\n} ","import closeIcon from '../images/Close_Icon.svg';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <section className={props.isOpen ? \"popup popup_main popup_hidden popup_active\" : \"popup popup_main popup_hidden\" }>\r\n      <div className=\"popup__background popup__background_main\"></div>\r\n      <div className=\"popup__full\"> \r\n        <button className=\"popup__close-button popup__close-button_main\"><img src={closeIcon} className=\"popup__close-image\" alt=\"кнопка\" onClick={props.onClose}/></button>\r\n        <img src={props.card.link} className=\"popup__card\" alt=\"Увеличенное фото\"/>\r\n        <h2 className=\"popup__name\">{props.card.name}</h2>\r\n      </div>  \r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\nimport Main from './Main.js';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\nimport api from '../utils/Api';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport * as mestoAuth from '../utils/Auth.js';\r\nimport ImagePopup from './ImagePopup.js';\r\n\r\nimport {  Route, Redirect, Switch, withRouter, useHistory } from 'react-router-dom';\r\n\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\n\r\nfunction App(props) {\r\n  const [currentEmail, setCurrentEmail] = React.useState('');\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  /*const [isConfirmPopupOpen, setConfirmPopupOpen] = React.useState(false);*/\r\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [succesRegister, setSuccesRegister] = React.useState(false);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n\r\n\r\n  React.useEffect(() => {\r\n      api.getUserInfo()\r\n        .then((data)=>{\r\n          setCurrentUser( {...data} );\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        });\r\n    }, []);\r\n\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  /*function handleConfirmClick() {\r\n      setConfirmPopupOpen(true);\r\n  }*/\r\n\r\n function handleLogin() {\r\n    setLoggedIn(true);\r\n  } \r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setImagePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setImagePopupOpen(false);\r\n    /*setConfirmPopupOpen(false);*/\r\n    setInfoTooltipOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api.setUserInfo(data)\r\n      .then(\r\n      (data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api.setUserAvatar(data)\r\n      .then(\r\n      (data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    api.postCard(data)\r\n      .then(\r\n      (data) => {\r\n        setCards([data, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  const [cards , setCards ] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n      .then((data)=>{\r\n      setCards([...data])\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n   \r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n    .then(() => {\r\n      setCards((state) => state.filter((c) => c !== card));\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n      const jwt = localStorage.getItem('jwt');\r\n       if (jwt){\r\n        mestoAuth.getContent(jwt).then((res) => {\r\n          if (res){\r\n            setCurrentEmail(res.data.email);\r\n            handleLogin();\r\n            history.push(\"/\");\r\n          }\r\n        }).catch((err) => {\r\n        console.log(err);\r\n      });\r\n      }\r\n  }, []);\r\n\r\n  function signOut(){\r\n    localStorage.removeItem('jwt');\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  function loginAuth(email, password){\r\n    mestoAuth.authorize(email, password).then((data) => {\r\n    if (data.token){\r\n      setCurrentEmail(email);\r\n      handleLogin();\r\n      history.push('/mesto');\r\n    }  \r\n  })\r\n  .catch(err => console.log(err));\r\n  }\r\n\r\n  function regiserAuth(email, password){\r\n    mestoAuth.register(email, password).then((res) => {\r\n      if(res){\r\n        history.push('/sign-in');\r\n        setInfoTooltipOpen(true);\r\n        setSuccesRegister(true);\r\n        }\r\n      else{\r\n        setInfoTooltipOpen(true);\r\n        setSuccesRegister(false);\r\n      }\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Switch>\r\n      <ProtectedRoute exact path=\"/\"\r\n      loggedIn={loggedIn}\r\n      component={Main}\r\n      onEditAvatar={handleEditAvatarClick} \r\n        onAddPlace ={handleAddPlaceClick} \r\n        onEditProfile={handleEditProfileClick}\r\n        onCardClick={handleCardClick}\r\n        onClose={closeAllPopups}\r\n        cards={cards}\r\n        onCardLike={handleCardLike}\r\n        onCardDelete={handleCardDelete}\r\n        currentEmail={currentEmail}\r\n        signOut={signOut}/>\r\n      <Route path=\"/sign-up\">\r\n        <Register setInfoTooltipOpen={setInfoTooltipOpen} setSuccesRegister={setSuccesRegister} regiserAuth={regiserAuth}/>\r\n      </Route>\r\n      <Route path=\"/sign-in\">\r\n        <Login handleLogin={handleLogin} loginAuth={loginAuth}/>\r\n      </Route>\r\n      <Route path=\"/\">\r\n        {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n      </Route> \r\n      </Switch>\r\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/> \r\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/> \r\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddNewCard={handleAddPlaceSubmit}/>\r\n      <InfoTooltip isInfoTooltipOpen={isInfoTooltipOpen} onClose={closeAllPopups} succesRegister={succesRegister}/>\r\n      <ImagePopup isOpen={isImagePopupOpen} onClose={closeAllPopups} card={selectedCard}/>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}