{"version":3,"sources":["contexts/CurrentUserContext.js","components/Card.js","components/Header.js","components/Footer.js","components/Main.js","components/Login.js","components/Register.js","utils/Api.js","images/Close_Icon.svg","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","images/succesReg.svg","images/unsuccesReg.svg","components/InfoTooltip.js","utils/Auth.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","className","style","backgroundImage","link","onClick","onCardClick","type","onCardDelete","name","onCardLike","length","Header","currentEmail","signOut","Footer","Main","src","avatar","alt","onEditAvatar","onEditProfile","about","onAddPlace","id","cards","map","withRouter","useState","email","setEmail","password","setPassword","to","onSubmit","e","preventDefault","loginAuth","placeholder","value","onChange","target","required","regiserAuth","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","method","then","_getResponseData","data","body","JSON","stringify","likeCard","dislikeCard","res","ok","json","Promise","reject","status","authorization","PopupWithForm","isOpen","closeIcon","onClose","title","formName","noValidate","children","EditProfilePopup","setName","description","setDescription","useEffect","onUpdateUser","minLength","maxLength","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","current","ref","AddPlacePopup","nameCard","setNameCard","urlCard","setUrlCard","onAddNewCard","ProtectedRoute","Component","component","loggedIn","InfoTooltip","isInfoTooltipOpen","succesRegister","succesReg","unsuccesReg","BASE_URL","ImagePopup","setCurrentEmail","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","isImagePopupOpen","setImagePopupOpen","setCurrentUser","selectedCard","setSelectedCard","setLoggedIn","setSuccesRegister","setInfoTooltipOpen","history","useHistory","handleLogin","closeAllPopups","getUserInfo","catch","err","console","log","setCards","getInitialCards","token","jwt","localStorage","getItem","push","Provider","exact","path","changeLikeCardStatus","newCard","state","c","deleteCard","filter","removeItem","response","mestoAuth","setItem","setUserInfo","setUserAvatar","postCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.632a3c63.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction Card(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some(i => i._id === currentUser._id);\r\n\r\n  const cardDeleteButtonClassName = (`${isOwn ? 'element__delete-button' \r\n  : 'element__delete-button element__delete-button_hidden'}`);\r\n  const cardLikeButtonClassName = (`${isLiked ? 'element__like-button element__like-button_active'\r\n  : 'element__like-button'}`);\r\n\r\n  function handleCardClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n\r\n  function handleCardDelete() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n\r\n  return (\r\n      <div className=\"element\">\r\n        <div className=\"element__image\" style={{ backgroundImage: `url(${props.card.link})` }} onClick={handleCardClick}></div>\r\n        <button type=\"button\" className={cardDeleteButtonClassName} onClick={handleCardDelete}></button>\r\n        <div className=\"element__bottom\">\r\n          <h2 className=\"element__name\">{props.card.name}</h2>\r\n          <div className=\"element__like-place\">\r\n            <button type=\"button\" className={cardLikeButtonClassName} onClick={handleLikeClick}></button>\r\n            <p className=\"element__like-count\">{props.card.likes.length}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className=\"header background\">\r\n      <div className=\"header__logo\"></div>\r\n      <div className=\"header__email\">{props.currentEmail}</div>\r\n      <div className=\"header__exit\" onClick={props.signOut}>Выйти</div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer background\">\r\n      <p className=\"footer__copyringht\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Header from './Header.js';\r\nimport Footer from './Footer.js';\r\n\r\n\r\nfunction Main(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <>\r\n    <Header currentEmail={props.currentEmail} signOut={props.signOut}/>\r\n    <main className=\"container\">\r\n      {/*<PopupWithForm name=\"confirm\" title=\"Вы уверены?\" formName=\"popupFormConfirm\"  isOpen={props.isConfirmOpen} onClose={props.onClose}\r\n      />*/}\r\n      <section className=\"profile background\">\r\n        <img src={currentUser.avatar} className=\"profile__avatar\" alt=\"Жак-Ив Кусто\"/>\r\n        <div className=\"profile__frontground\" onClick={props.onEditAvatar}></div>\r\n        <div className=\"profile__info\">\r\n          <div className=\"profile__top-info\">\r\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n            <button className=\"profile__change-button\" type=\"button\" onClick={props.onEditProfile}></button>\r\n          </div>\r\n          <p className=\"profile__description\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className=\"elements background\">\r\n      </section>\r\n      <div id=\"card-template\">\r\n        {props.cards.map((card) => (\r\n          <Card card={card} onCardClick={props.onCardClick} key={card._id}  onCardLike={props.onCardLike} onCardDelete={props.onCardDelete}/>\r\n        ))}\r\n      </div>\r\n    </main>\r\n    <Footer/>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Main;","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom';\r\n\r\nfunction Login(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n\r\n  function emailEnter(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function passwordEnter(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.loginAuth(email, password);\r\n} \r\n\r\n  return (\r\n    <>\r\n      <header className=\"header background\">\r\n        <div className=\"header__logo\"></div>\r\n        <Link to=\"sign-up\" className=\"header__regisiterButton\">Регистрация</Link>\r\n      </header>\r\n      <main className=\"sign\">\r\n        <div className=\"sign__window\">\r\n          <h2 className=\"sign__name\">Вход</h2>\r\n          <form className=\"sign__form\" onSubmit={handleSubmit}>\r\n            <input type=\"email\" className=\"sign__email\" placeholder=\"Email\" value={email} onChange={emailEnter} required />\r\n            <input type=\"password\" className=\"sign__password\" placeholder=\"Пароль\" value={password} onChange={passwordEnter} required />\r\n            <button className=\"sign__button\">Войти</button>\r\n          </form>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(Login);","import React from 'react';\r\nimport { Link, withRouter } from 'react-router-dom'; \r\n\r\nfunction Register(props) {\r\n\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n\r\n  function emailEnter(e) {\r\n    setEmail(e.target.value);\r\n  }\r\n\r\n  function passwordEnter(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.regiserAuth(email, password);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <header className=\"header background\">\r\n        <div className=\"header__logo\"></div>\r\n        <Link to=\"sign-in\" className=\"header__loginButton\">Войти</Link>\r\n      </header>\r\n      <main className=\"sign\">\r\n        <div className=\"sign__window\">\r\n          <h2 className=\"sign__name\">Регистрация</h2>\r\n          <form className=\"sign__form\" onSubmit={handleSubmit}>\r\n            <input type=\"email\" className=\"sign__email\" placeholder=\"Email\" value={email} onChange={emailEnter} required />\r\n            <input type=\"password\" className=\"sign__password\" placeholder=\"Пароль\" value={password} onChange={passwordEnter} required />\r\n            <button className=\"sign__button\">зарегистрироваться</button>\r\n          </form>\r\n          <p className=\"sign__inform\">Уже зарегистрированы? <Link to=\"sign-in\" className=\"sign__inform-link\">Войти</Link></p>\r\n        </div>\r\n      </main>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register); ","export class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getUserInfo() {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'GET',\r\n      headers: this._headers\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n  getInitialCards() {\r\n  return fetch(`${this._baseUrl}/cards`, {\r\n    method: 'GET',\r\n    headers: this._headers\r\n  }).then(this._getResponseData)\r\n} \r\n\r\n  setUserInfo(data) {\r\n    return fetch(`${this._baseUrl}/users/me`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        about: data.about\r\n      })\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n   setUserAvatar(data) {\r\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        avatar: data.avatar\r\n      })\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n  postCard(data) {\r\n  return fetch(`${this._baseUrl}/cards`, {\r\n      method: 'POST',\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: data.name,\r\n        link: data.link\r\n      })\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n  likeCard(data) {\r\n  return fetch(`${this._baseUrl}/cards/likes/${data}`, {\r\n      method: 'PUT',\r\n      headers: this._headers,\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n  dislikeCard(data) {\r\n  return fetch(`${this._baseUrl}/cards/likes/${data}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers,\r\n    }).then(this._getResponseData)\r\n  }\r\n  \r\n  deleteCard(data) {\r\n  return fetch(`${this._baseUrl}/cards/${data}`, {\r\n      method: 'DELETE',\r\n      headers: this._headers\r\n    }).then(this._getResponseData)\r\n  }\r\n\r\n  changeLikeCardStatus(data, isLiked) {\r\n    if (isLiked) {\r\n      return this.likeCard(data);\r\n    } else {\r\n      return this.dislikeCard(data);\r\n    }\r\n  }\r\n\r\n  _getResponseData(res) {\r\n    if (!res.ok) {\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n    return res.json();\r\n} \r\n}\r\n\r\nconst api = new Api({\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-26',\r\n  headers: {\r\n    authorization: '09fddbd8-b63c-4352-8240-79b061fd7f20',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}); \r\n\r\nexport default api;","export default __webpack_public_path__ + \"static/media/Close_Icon.44bb1e48.svg\";","import closeIcon from '../images/Close_Icon.svg';\r\n\r\nfunction PopupWithForm(props) {\r\n\r\n  return (\r\n    <section className={props.isOpen ? `popup popup_hidden popup_${props.name} popup_active` : `popup popup_hidden popup_${props.name}` }>\r\n      <div className=\"popup__background\"></div>\r\n      <button type=\"button\" className=\"popup__close-button popup__close-button-change\"><img src={closeIcon} className=\"popup__close-image\" alt=\"кнопка\" onClick={props.onClose}/></button>\r\n      <div className=\"popup__container\">\r\n        <h2 className=\"popup__info\">{props.title}</h2>\r\n        <form name={`${props.formName}`} className=\"popup__form form popup__info-form\" noValidate onSubmit={props.onSubmit}>\r\n          {props.children}\r\n          <button className=\"popup__save-button popup__submit\" type=\"submit\" name=\"save-button\">\r\n            Сохранить\r\n          </button>\r\n        </form>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\nfunction EditProfilePopup(props) {\r\n\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  function nameChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n  function descriptionChange(e) {\r\n    setDescription(e.target.value);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [props.isOpen, currentUser]); \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  } \r\n\r\n  return (\r\n  <PopupWithForm name=\"change\" title=\"Редактировать профиль\" formName=\"popupForm\"  isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n    children={<>\r\n      <input id=\"profile-name\" type=\"text\" className=\"popup__input popup__input_user_name\" name=\"name\" required minLength=\"2\"\r\n      maxLength=\"40\" value={name ? name : \"\"} onChange={nameChange}/>\r\n      <span id=\"profile-name-error\" className=\"popup__input-error\"></span> \r\n      <input id=\"profile-description\" type=\"text\" className=\"popup__input popup__input_user_description\" name=\"description\" \r\n      required minLength=\"2\" maxLength=\"200\" value={description ? description : \"\"} onChange={descriptionChange}/>\r\n      <span id=\"profile-description-error\" className=\"popup__input-error\"></span> \r\n    </>}\r\n  />\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const avatarRef = React.useRef(); \r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({\r\n      avatar: avatarRef.current.value,\r\n    });\r\n  } \r\n\r\n\r\n  return (\r\n  <PopupWithForm name=\"avatar\" title=\"Обновить аватар\" formName=\"popupAvatarForm\"  isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n    children={<>\r\n      <input id=\"avatar-description\" type=\"url\" className=\"popup__input popup__input_avatar_link\" name=\"avatarDescription\" placeholder=\"Ссылка на картинку\" ref={avatarRef} required/>\r\n      <span id=\"avatar-description-error\" className=\"popup__input-error\"></span> \r\n    </>}\r\n  />\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup(props) {\r\n\r\n  const [nameCard, setNameCard] = React.useState('');\r\n  const [urlCard, setUrlCard] = React.useState('');\r\n\r\n  function nameEnter(e) {\r\n    setNameCard(e.target.value);\r\n  }\r\n\r\n  function urlEnter(e) {\r\n    setUrlCard(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onAddNewCard({\r\n      link: urlCard,\r\n      name: nameCard,\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm name=\"add\" title=\"Новое место\" formName=\"popupCardForm\"  isOpen={props.isOpen} onClose={props.onClose} onSubmit={handleSubmit}\r\n      children={<>\r\n        <input id=\"mesto-name\" type=\"text\" className=\"popup__input popup__input_mesto_name\" name=\"mestoName\" placeholder=\"Название\"\r\n        required minLength=\"2\" maxLength=\"30\" value={nameCard} onChange={nameEnter}/>\r\n        <span id=\"mesto-name-error\" className=\"popup__input-error\"></span> \r\n        <input id=\"mesto-description\" type=\"url\" className=\"popup__input popup__input_mesto_link\" name=\"mestoDescription\"\r\n        placeholder=\"Ссылка на картинку\" value={urlCard} onChange={urlEnter} required/>\r\n        <span id=\"mesto-description-error\" className=\"popup__input-error\"></span> \r\n      </>}\r\n    />\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;","export default __webpack_public_path__ + \"static/media/succesReg.a9eb6caf.svg\";","export default __webpack_public_path__ + \"static/media/unsuccesReg.d4ce2a26.svg\";","import closeIcon from '../images/Close_Icon.svg';\r\nimport succesReg from '../images/succesReg.svg';\r\nimport unsuccesReg from '../images/unsuccesReg.svg';\r\n\r\nfunction InfoTooltip(props) {\r\n\r\n  return (\r\n    <section className={props.isInfoTooltipOpen ? `popup` : ` popup popup_hidden` }>\r\n    <div className=\"popup__background\"></div>\r\n      <button type=\"button\" className=\"popup__close-button\"><img src={closeIcon} className=\"popup__close-image\" alt=\"кнопка\" onClick={props.onClose}/></button>\r\n      <div className=\"popup__InfoTooltip-block\">\r\n        <img className=\"popup__InfoTooltip-icon\" src={props.succesRegister ? `${succesReg}` : `${unsuccesReg}`}\r\n        alt={props.succesRegister ? `Успешная регистрация` : `Неуспешная регистрация`}/>\r\n        <p className=\"popup__InfoTooltip-text\">{props.succesRegister ? `Вы успешно зарегистрировались!` : `Что-то пошло не так! Попробуйте ещё раз.`}</p>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export const BASE_URL = 'https://auth.nomoreparties.co';\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then((response) => {\r\n    console.log(response)\r\n    try {\r\n      if (response.status === 201){\r\n        return response.json();\r\n      }\r\n    } catch(e){\r\n      return (e)\r\n    }\r\n  })\r\n  .then((res) => {\r\n    return res;\r\n  })\r\n}; \r\n\r\n export const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/signin`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then((response => response.json()))\r\n  .then((data) => {\r\n    if (data.token){\r\n      localStorage.setItem('jwt', data.token);\r\n      return data;\r\n    }\r\n  })\r\n};\r\n\r\nexport const getContent = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n  .then(data => data)\r\n} ","import closeIcon from '../images/Close_Icon.svg';\r\n\r\nfunction ImagePopup(props) {\r\n  return (\r\n    <section className={props.isOpen ? \"popup popup_main popup_hidden popup_active\" : \"popup popup_main popup_hidden\" }>\r\n      <div className=\"popup__background popup__background_main\"></div>\r\n      <div className=\"popup__full\"> \r\n        <button className=\"popup__close-button popup__close-button_main\"><img src={closeIcon} className=\"popup__close-image\" alt=\"кнопка\" onClick={props.onClose}/></button>\r\n        <img src={props.card.link} className=\"popup__card\" alt=\"Увеличенное фото\"/>\r\n        <h2 className=\"popup__name\">{props.card.name}</h2>\r\n      </div>  \r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\nimport Main from './Main.js';\r\nimport Login from './Login.js';\r\nimport Register from './Register.js';\r\nimport api from '../utils/Api';\r\nimport EditProfilePopup from './EditProfilePopup.js';\r\nimport EditAvatarPopup from './EditAvatarPopup.js';\r\nimport AddPlacePopup from './AddPlacePopup.js';\r\nimport ProtectedRoute from \"./ProtectedRoute\";\r\nimport InfoTooltip from \"./InfoTooltip\";\r\nimport * as mestoAuth from '../utils/Auth.js';\r\nimport ImagePopup from './ImagePopup.js';\r\n\r\nimport {  Route, Redirect, Switch, withRouter, useHistory } from 'react-router-dom';\r\n\r\n\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\n\r\n\r\nfunction App(props) {\r\n  const [currentEmail, setCurrentEmail] = React.useState('');\r\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\r\n  /*const [isConfirmPopupOpen, setConfirmPopupOpen] = React.useState(false);*/\r\n  const [isImagePopupOpen, setImagePopupOpen] = React.useState(false);\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [selectedCard, setSelectedCard] = React.useState({});\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n  const [succesRegister, setSuccesRegister] = React.useState(false);\r\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\r\n\r\n  const history = useHistory();\r\n\r\n\r\n\r\n  React.useEffect(() => {\r\n      api.getUserInfo()\r\n        .then((data)=>{\r\n          setCurrentUser( {...data} );\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        });\r\n    }, []);\r\n\r\n\r\n  function handleEditAvatarClick() {\r\n    setEditAvatarPopupOpen(true);\r\n  }\r\n\r\n  function handleEditProfileClick() {\r\n    setEditProfilePopupOpen(true);\r\n  }\r\n\r\n  function handleAddPlaceClick() {\r\n    setAddPlacePopupOpen(true);\r\n  }\r\n\r\n  /*function handleConfirmClick() {\r\n      setConfirmPopupOpen(true);\r\n  }*/\r\n\r\n function handleLogin() {\r\n    setLoggedIn(true);\r\n  } \r\n\r\n  function handleCardClick(card) {\r\n    setSelectedCard(card);\r\n    setImagePopupOpen(true);\r\n  }\r\n\r\n  function closeAllPopups() {\r\n    setEditAvatarPopupOpen(false);\r\n    setEditProfilePopupOpen(false);\r\n    setAddPlacePopupOpen(false);\r\n    setImagePopupOpen(false);\r\n    /*setConfirmPopupOpen(false);*/\r\n    setInfoTooltipOpen(false);\r\n    setSelectedCard({});\r\n  }\r\n\r\n  function handleUpdateUser(data) {\r\n    api.setUserInfo(data)\r\n      .then(\r\n      (data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleUpdateAvatar(data) {\r\n    api.setUserAvatar(data)\r\n      .then(\r\n      (data) => {\r\n        setCurrentUser(data);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    api.postCard(data)\r\n      .then(\r\n      (data) => {\r\n        setCards([data, ...cards]);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  const [cards , setCards ] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    api.getInitialCards()\r\n      .then((data)=>{\r\n      setCards([...data])\r\n    })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n  }, [])\r\n\r\n  function handleCardLike(card) {\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n   \r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n    .then(() => {\r\n      setCards((state) => state.filter((c) => c !== card));\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n      const jwt = localStorage.getItem('jwt');\r\n       if (jwt){\r\n        mestoAuth.getContent(jwt).then((res) => {\r\n          if (res){\r\n            setCurrentEmail(res.data.email);\r\n            handleLogin();\r\n            history.push(\"/\");\r\n          }\r\n        }).catch((err) => {\r\n        console.log(err);\r\n      });\r\n      }\r\n  }, []);\r\n\r\n  function signOut(){\r\n    localStorage.removeItem('jwt');\r\n    history.push('/sign-in');\r\n  }\r\n\r\n  function loginAuth(email, password){\r\n    mestoAuth.authorize(email, password).then((data) => {\r\n    if (data.token){\r\n      setCurrentEmail(email);\r\n      handleLogin();\r\n      history.push('/mesto');\r\n    }  \r\n  })\r\n  .catch(err => console.log(err));\r\n  }\r\n\r\n  function regiserAuth(email, password){\r\n    mestoAuth.register(email, password).then((res) => {\r\n      if(res){\r\n        history.push('/sign-in');\r\n        setInfoTooltipOpen(true);\r\n        setSuccesRegister(true);\r\n        }\r\n      else{\r\n        setInfoTooltipOpen(true);\r\n        setSuccesRegister(false);\r\n      }\r\n    })\r\n    .catch((err) =>{\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Switch>\r\n      <ProtectedRoute exact path=\"/\"\r\n      loggedIn={loggedIn}\r\n      component={Main}\r\n      onEditAvatar={handleEditAvatarClick} \r\n        onAddPlace ={handleAddPlaceClick} \r\n        onEditProfile={handleEditProfileClick}\r\n        onCardClick={handleCardClick}\r\n        onClose={closeAllPopups}\r\n        cards={cards}\r\n        onCardLike={handleCardLike}\r\n        onCardDelete={handleCardDelete}\r\n        currentEmail={currentEmail}\r\n        signOut={signOut}/>\r\n      <Route path=\"/sign-up\">\r\n        <Register setInfoTooltipOpen={setInfoTooltipOpen} setSuccesRegister={setSuccesRegister} regiserAuth={regiserAuth}/>\r\n      </Route>\r\n      <Route path=\"/sign-in\">\r\n        <Login handleLogin={handleLogin} loginAuth={loginAuth}/>\r\n      </Route>\r\n      <Route path=\"/\">\r\n        {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\r\n      </Route> \r\n      </Switch>\r\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/> \r\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/> \r\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddNewCard={handleAddPlaceSubmit}/>\r\n      <InfoTooltip isInfoTooltipOpen={isInfoTooltipOpen} onClose={closeAllPopups} succesRegister={succesRegister}/>\r\n      <ImagePopup isOpen={isImagePopupOpen} onClose={closeAllPopups} card={selectedCard}/>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default withRouter(App);\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\nreportWebVitals();\r\n"],"sourceRoot":""}